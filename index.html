---
layout: default
title: Datacomplete Hompage
---

<h1>Datacomplete
  <div class="subtitle">A jQuery Autocomplete Extension</div>
</h1>

<p>
  This extension helps when working you need to track primary keys along with the user input. 
  <br/>
  It moves additional data between the server and webpage.
  <br/>
  This is beta software. It works for me, and I'm using it in production.
</p>

<div style='float:right'>
  <img src='static/screenshot.png' />
</div>

<h2>Dependencies</h2>
<p>I'm using jQuery 1.6. Other versions should work.</p>
<p>jQuery UI 1.9pre or greater. 
  If you want to use 1.8, you will need to apply this <a href="http://bugs.jqueryui.com/ticket/7555">patch</a>.
</p>


<h2>Download</h2>
<p>The source can be found on <a href="https://github.com/bmaltzan/jquery-ui-datacomplete">GitHub</a>.</p>
<p>
  Latest: 
  <a href="https://raw.github.com/bmaltzan/jquery-ui-datacomplete/master/src/jquery-ui-datacomplete.0.9.0.js">jquery-ui-datacomplete.0.9.0.js</a>
  <br/>
  Minified:
  <a href="https://raw.github.com/bmaltzan/jquery-ui-datacomplete/master/src/jquery-ui-datacomplete.0.9.0.min.js">jquery-ui-datacomplete.0.9.0.min.js</a>
</p>


<h2>Compatibility</h2>
Seems to work on these, maybe more:
<ul>
  <li>osx-firefox8</li>
  <li>osx-safari</li>
  <li>osx-opera</li>
  <li>win7-ie9</li>
  <li>ios5-ipad 1,2</li>
  <li>ios5-ipod touch</li>
  <li></li>
</ul>
<p>The scrollbar on ios is not visible, but a 1 or 2 finger drag will scroll.</p>


<h2>Alternate Solutions</h2>
<ul>
  <li>
    In a second autocomplete input box, fontzter shows how to 
    <a href="https://forum.jquery.com/topic/autocomplete-question">override it's source method</a>, 
    when the first autocomplete's suggestion is selected.</li>
  </li>

  <li>This is unsupported now: the previous version of this tool was an extension of
    <a href="http://bassistance.de/jquery-plugins/jquery-plugin-autocomplete/">jquery-plugin-autocomplete</a>.
    It used xml, and is included on github as
    <a href="https://raw.github.com/bmaltzan/jquery-ui-datacomplete/master/src/jquery-ui-datacomplete.0.9.0.js">jquery-autocomplete-xml.js</a>.
  </li>
</ul>


<h2>  
  Options
  <div class="subtitle">jQuery UI <a href="http://docs.jquery.com/UI/Autocomplete#options">Autocomplete Options</a>.</div>
</h2>

<ul>
  <li>
    <h3>extraData</h3>
    <div>For example: <code>extraData : [ { ws:'primary_key_id', dom:'primary_key_id' } ]</code></div>
    <p>This is an array of hashes.
      Each hash should contain two keys: "ws" and "dom". Ws refers to a key in the webservice list,
      and dom is the id of an element in the web page. When the user selects a value from the dropdown,
      if there is a value from the server in "ws", it will be set as the value of the webpage element
      with the id in "dom".
    </p>
    <p>For this example, 'primary_key_id' could be the id of a hidden input, and the key within the json data.
      The value appears to be repeated here- this allows the same web service can be used for multiple autocompletes in a page.
    </p>
</p>
  </li>
  <li>
    <h3>extraParams</h3>
    <div>For example: <code>extraParams : { type:'taxon-search-type' }</code></div>
        <p>This is a hash. 
      The keys and values will be appended to the url as parameter name and values.
      If the value is null, the key will be used to get the element with that id on the page,
      and it's value will be appended as the url parameter.
    </p>
  </li>
  <li>
    <h3>submitForm</h3>
    <div>For example: <code>submitForm : "search_form"</code></div>
    <p>Set this to the id of a form, without the "#". When a value is selected, the form will be submitted.</p>
  </li>
  <li>
    <h3>columns</h3>
    <div>For example: <code>columns : [ { "audio" : "Audio" }, { "video" : "Video" }, { "species" : "Species" } ]</code></div>
    <p>This displays data within the autocomplete suggestions, as columns.
      The key should be a json key within the list of suggestions returned by the server.
      The value will be used as a header, within the dropdown.
    </p>
  </li>
</ul>


<h2>Examples Using Arrays of Data</h2>

<ol>
  <li class="example">
    <h3>
      Autocomplete Default Functionality
      <div class="subtitle">Demo duplicated from: <a href="http://jqueryui.com/demos/autocomplete/default.html">jqueryui.com</a></div>
    </h3>

    <div class="ui-widget">
      <label for="tags">Tags: </label>
      <input id="tags" />
    </div>

    <script type='text/javascript'>
      //<![CDATA[
        $(function() {
          var availableTags = [
            "ActionScript",
            "AppleScript",
            "Asp",
            "BASIC",
            "C",
            "C++",
            "Clojure",
            "COBOL",
            "ColdFusion",
            "Erlang",
            "Fortran",
            "Groovy",
            "Haskell",
            "Java",
            "JavaScript",
            "Lisp",
            "Perl",
            "PHP",
            "Python",
            "Ruby",
            "Scala",
            "Scheme"
          ];
          $( "#tags" ).autocomplete({
            source: availableTags
          });
        });
      //]]>
    </script>
  </li>


  <li class="example">
    <h3>Datacomplete Default Functionality</h3>

    <ul>
      <li>The minLength is changed from 1 to 0. 
          Currently this is only triggered by typing a letter, then backspacing. 
          A future enhancement would be to trigger suggestions on double click.</li>
      <li>The scrollheight is changed from 200 to 400.</li>
      <li>The dropdown box's position is changed from left justified to right justified.</li>
    </ul>

    <br/>

    <div class="ui-widget">
      <label for="dc-tags">Tags: </label>
      <input id="dc-tags" />
    </div>

    <script type='text/javascript'>
      //<![CDATA[
        $(function() {
          var availableTags = [
            "ActionScript",
            "AppleScript",
            "Asp",
            "BASIC",
            "C",
            "C++",
            "Clojure",
            "COBOL",
            "ColdFusion",
            "Erlang",
            "Fortran",
            "Groovy",
            "Haskell",
            "Java",
            "JavaScript",
            "Lisp",
            "Perl",
            "PHP",
            "Python",
            "Ruby",
            "Scala",
            "Scheme"
          ];
          $( "#dc-tags" ).datacomplete({
            source: availableTags
          });
        });
      //]]>
    </script>
  </li>


  <li class="example">
    <h3>Submitting a Form, on Selecting a Suggestion</h3>

    <ul>
      <li>This submits your term to google search.</li>
      <li>submitForm : "web-search"</li>
    </ul>

    <br/>

    <div class="ui-widget">
      <form method="POST" id="web-search" action="http://www.scroogle.org/cgi-bin/nbbw.cgi">
      <label for="search-tags">Web Search:</label>
      <input id="search-tags" name="Gw" size="15" maxlength="225" type="TEXT">
      <br>
      <input name="n" value="2" type="RADIO">20
      <input name="n" value="5" type="RADIO">50
      <input name="n" value="1" checked="checked" type="RADIO">100
      </form>
    </div>

    <script type='text/javascript'>
      //<![CDATA[
        $(function() {
          var availableTags = [
            "ActionScript",
            "AppleScript",
            "Asp",
            "BASIC",
            "C",
            "C++",
            "Clojure",
            "COBOL",
            "ColdFusion",
            "Erlang",
            "Fortran",
            "Groovy",
            "Haskell",
            "Java",
            "JavaScript",
            "Lisp",
            "Perl",
            "PHP",
            "Python",
            "Ruby",
            "Scala",
            "Scheme"
          ];
          $( "#search-tags" ).datacomplete({
            source: availableTags,
            submitForm: "web-search"
          });
        });
      //]]>
    </script>
  </li>




</ol>


<h2>Examples Using Webservice Data</h2>
<p>These will not run if you download them. They must run on the server.
  (<a href="http://en.wikipedia.org/wiki/Same_origin_policy">same origin policy</a>)
</p>

<ol>

  <li class="example">
    <h3>Receiving Additional Data, Such as Primary Key</h3>
    <p><a href="http://macaulaylibrary.org/labs/demos/datacomplete-pk">datacomplete-receiving</a></p>
  </li>

<!--
  <li class="example">
    <h3>Sending Additional Data</h3>
    <p><a href="http://macaulaylibrary.org/labs/demos/datacomplete-columns">datacomplete-sending</a></p>
  </li>
-->

  <li class="example">
    <h3>Displaying Columns in the Autocomplete Suggestions</h3>
    <p><a href="http://macaulaylibrary.org/labs/demos/datacomplete-columns">datacomplete-columns</a></p>
  </li>


  <li class="example">
    <h3>Usage in Production</h3>
    <a href="http://macaulaylibrary.org">Macaulay Library</a>
  </li>

</ol>

